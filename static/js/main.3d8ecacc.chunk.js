(this.webpackJsonprmdb=this.webpackJsonprmdb||[]).push([[0],{22:function(e,t,a){e.exports=a(47)},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),m=a(6),i=a(7),l=(a(27),function(){return r.a.createElement("div",{className:"rmdb-header"},r.a.createElement("div",{className:"rmdb-header-content"},r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{src:"./images/reactMovie_logo.png",alt:"rmdb-logo",className:"rmdb-logo"})),r.a.createElement("img",{src:"./images/tmdb_logo.png",alt:"tmdb_logo",className:"rmdb-tmdb-logo"})))}),s=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"The page you are looking doesn't exists!!!"))},u=a(4),v="https://api.themoviedb.org/3/",d="844dba0bfd8f3a4f3799f6130ef9e335",f="http://image.tmdb.org/t/p/",b="w1280",p="w500",g=(a(33),function(e){return r.a.createElement("div",{className:"rmdb-heroimage",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0)\n        39%, rgba(0,0,0,0)\n        41%,rgba(0,0,0,0.65)\n        100%),\n        url('".concat(e.image,"'), #1c1c1c")}},r.a.createElement("div",{className:"rmdb-heroimage-content"},r.a.createElement("div",{className:"rmdb-heroimage-text"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.text))))}),E=(a(34),function(e){var t=Object(n.useState)({value:"",timeout:0}),a=Object(u.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"rmdb-searchbar"},r.a.createElement("div",{className:"rmdb-searchbar-content"},r.a.createElement("i",{className:"rmdb-fa-search fa fa-search fa-2x"}),r.a.createElement("input",{type:"text",className:"rmdb-searchbar-input",placeholder:"Search",onChange:function(t){t.preventDefault(),c.timeout&&clearTimeout(c.timeout),o({value:t.target.value,timeout:setTimeout((function(){c.value&&e.handleSearch(c.value)}),1e3)})},value:c.value})))}),h=(a(35),function(e){return r.a.createElement("div",{className:"rmdb-grid"},e.header&&!e.loading?r.a.createElement("h1",null,e.header):null,r.a.createElement("div",{className:"rmdb-grid-content"},e.children.map((function(e,t){return r.a.createElement("div",{key:t,className:"rmdb-grid-element"},e)}))))}),O=(a(36),function(e){return r.a.createElement("div",{className:"rmdb-moviethumb"},e.clickable?r.a.createElement(m.b,{to:{pathname:"/".concat(e.movieId),movieName:"".concat(e.movieName)}},r.a.createElement("img",{src:e.image,alt:"moviethumb"})):r.a.createElement("img",{src:e.image,alt:"moviethumb"}))}),N=(a(37),function(e){return r.a.createElement("div",{className:"rmdb-loadmorebtn",onClick:e.onClick},r.a.createElement("p",null,e.text))}),y=(a(38),function(){return r.a.createElement("div",{className:"loader"})}),j=(a(39),a(9)),k=a.n(j),S=a(16),w=a(11),_=a(12);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=function(){var e=function(){var e=Object(n.useState)({movies:[]}),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(u.a)(c,2),m=o[0],i=o[1],l=Object(n.useState)(!1),s=Object(u.a)(l,2),f=s[0],b=s[1],p=function(){var e=Object(_.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),i(!0),(a=new URLSearchParams(t)).get("page")||r((function(e){return I({},e,{movies:[],searchTerm:a.get("query")})})),e.prev=4,e.next=7,fetch(t);case 7:return e.next=9,e.sent.json();case 9:n=e.sent,r((function(e){return I({},e,{movies:[].concat(Object(S.a)(e.movies),Object(S.a)(n.results)),heroImage:e.heroImage||n.results[0],currentPage:n.page,totalPages:n.total_pages})})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),b(!0);case 16:return e.prev=16,i(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(sessionStorage.getItem("HomeState")){var e=JSON.parse(sessionStorage.getItem("HomeState"));r(I({},e))}else p("".concat(v,"movie/popular?api_key=").concat(d))}),[]),Object(n.useEffect)((function(){a.searchTerm||sessionStorage.setItem("HomeState",JSON.stringify(a))}),[a]),[{state:a,isLoading:m,isError:f},p]}(),t=Object(u.a)(e,2),a=t[0],c=a.state,o=a.isLoading,m=t[1],i=v,l=d,s=f,j=b,w=p;return r.a.createElement("div",{className:"rmdb-home"},c.heroImage&&!c.searchTerm?r.a.createElement("div",null,r.a.createElement(g,{image:"".concat(s).concat(j).concat(c.heroImage.backdrop_path),title:c.heroImage.original_title,text:c.heroImage.overview})):null,r.a.createElement(E,{handleSearch:function(e){var t="";t=e?"".concat(i,"search/movie?api_key=").concat(l,"&query=").concat(e):"".concat(i,"movie/popular?api_key=").concat(l),m(t)}}),r.a.createElement("div",{className:"rmdb-home-grid"},r.a.createElement(h,{header:c.searchTerm?"Search Result":"Popular Movies",loading:o},c.movies.map((function(e,t){return r.a.createElement(O,{key:t,clickable:!0,image:e.poster_path?"".concat(s).concat(w).concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieName:e.original_title})}))),o?r.a.createElement(y,null):null,c.currentPage<=c.totalPages&&!o?r.a.createElement(N,{onClick:function(){var e="",t=c.currentPage,a=c.searchTerm;e=a?"".concat(i,"search/movie?api_key=").concat(l,"&query=").concat(a,"&page=").concat(t+1):"".concat(i,"movie/popular?api_key=").concat(l,"&page=").concat(t+1),m(e)},text:"Load More"}):null))},D=(a(41),function(e){return r.a.createElement("div",{className:"rmdb-navigation"},r.a.createElement("div",{className:"rmdb-navigation-content"},r.a.createElement(m.b,{to:"/"},r.a.createElement("p",null,"Home")),r.a.createElement("p",null,"/"),r.a.createElement("p",null,e.movie)))}),T=(a(42),function(e){var t=f,a=p,n=b;return r.a.createElement("div",{className:"rmdb-movieinfo",style:{background:e.movie.backdrop_path?"url('".concat(t).concat(n).concat(e.movie.backdrop_path,"')"):"#000"}},r.a.createElement("div",{className:"rmdb-movieinfo-content"},r.a.createElement("div",{className:"rmdb-movieinfo-thumb"},r.a.createElement(O,{image:e.movie.poster_path?"".concat(t).concat(a).concat(e.movie.poster_path):"./images/no_image.jpg",clickable:!1})),r.a.createElement("div",{className:"rmdb-movieinfo-text"},r.a.createElement("h1",null,e.movie.title),r.a.createElement("h3",null,"PLOT"),r.a.createElement("p",null,e.movie.overview),r.a.createElement("h3",null,"IMDB RATING"),r.a.createElement("div",{className:"rmdb-rating"},r.a.createElement("meter",{min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*e.movie.vote_average}),r.a.createElement("p",{className:"rmdb-score"},e.movie.vote_average),e.directors.length>1?r.a.createElement("h3",null,"DIRECTORS"):r.a.createElement("h3",null,"DIRECTOR"),e.directors.map((function(e,t){return r.a.createElement("p",{key:t,className:"rmdb-director"},e.name)}))),r.a.createElement("i",{className:"fa fa-film fa-5x",name:"film"}))))}),R=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)},C=(a(43),function(e){return r.a.createElement("div",{className:"rmdb-movieinfobar"},r.a.createElement("div",{className:"rmdb-movieinfobar-content"},r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement("i",{className:"fa fa-clock-o fa-2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Running time:",function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")}(e.time))),r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement("i",{className:"fa fa-money fa-2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Budget: ",R(e.budget))),r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement("i",{className:"fa fa-usd fa-2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Revenue ",R(e.revenue)))))}),J=(a(44),function(e){return r.a.createElement("div",{className:"rmdb-actor"},r.a.createElement("img",{src:e.actor.profile_path?"".concat(f).concat("w154").concat(e.actor.profile_path):"./images/no_image.jpg",alt:"actorthumb"}),r.a.createElement("span",{className:"rmdb-actor-name"},e.actor.name),r.a.createElement("span",{className:"rmdb-actor-character"},e.actor.character))});a(45);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=function(e){var t=Object(n.useState)({movie:null,actor:null,directors:[],loading:!1}),a=Object(u.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){var t=d,a=v;if(sessionStorage.getItem("".concat(e.match.params.movieId))){var n=JSON.parse(sessionStorage.getItem("".concat(e.match.params.movieId)));o(L({},n))}else{o({loading:!0});var r="".concat(a,"movie/").concat(e.match.params.movieId,"?api_key=").concat(t,"&language=en-US");m(r)}}),[]);var m=function(){var t=Object(_.a)(k.a.mark((function t(a){var n,r,m,i,l,s,u,f;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d,r=v,t.next=3,fetch(a);case 3:return m=t.sent,t.next=6,m.json();case 6:return i=t.sent,o(L({},c,{movie:i})),l="".concat(r,"movie/").concat(e.match.params.movieId,"/credits?api_key=").concat(n),t.next=11,fetch(l);case 11:return s=t.sent,t.next=14,s.json();case 14:u=t.sent,f=u.crew.filter((function(e){return"Director"===e.job})),o(L({},c,{movie:i,actors:u.cast,directors:f,loading:!1})),localStorage.setItem("".concat(e.match.params.movieId),JSON.stringify(c));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"rmdb-movie"},c.movie?r.a.createElement("div",null,r.a.createElement(D,{movie:e.location.movieName}),r.a.createElement(T,{movie:c.movie,directors:c.directors}),r.a.createElement(C,{time:c.movie.runtime,budget:c.movie.budget,revenue:c.movie.revenue})):null,c.actors?r.a.createElement("div",{className:"rmdb-movie-grid"},r.a.createElement(h,{header:"Actors"},c.actors.map((function(e,t){return r.a.createElement(J,{key:t,actor:e})})))):null,c.actors||c.loading?null:r.a.createElement("h1",null,"No Movie Found!"),c.loading?r.a.createElement(y,null):null)},H=function(){return r.a.createElement(m.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(l,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:P}),r.a.createElement(i.a,{exact:!0,path:"/:movieId",component:F}),r.a.createElement(i.a,{component:s}))))};a(46);o.a.render(r.a.createElement(H,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.3d8ecacc.chunk.js.map